---
layout: post
title: cross-compile VLC para ardrone usando o Sourcery G++ Lite
date: '2013-11-26T22:21:00.001-03:00'
author: Murilo Pontes
tags:
- GLIBC
- FTP
- inetd
- Filezilla
- VLC
- ardrone
- telnet
- UBIFS
- mplayer
- cross-compile
- GCC
modified_time: '2015-01-18T13:25:04.147-03:00'
thumbnail: http://2.bp.blogspot.com/-v_Q1y-rmSJY/UpUcgsly6bI/AAAAAAAAnc8/_q8qLfYhbjs/s72-c/filezilla-drone-transfer.jpg
blogger_id: tag:blogger.com,1999:blog-3047384083282566923.post-4688688217007708453
blogger_orig_url: http://dronespersonalizados.blogspot.com/2013/11/cross-compile-vlc-para-ardrone-usando-o.html
---

Depois de instalado o Sourcery G++ Lite, chegou a hora de compilar o VLC utilizando ele. Com o VLC poderemos faz broadcast do video capturado pelas cameras do ardrone.<br /><a name='more'></a><br /><br />Instalar o VLC e Mplayer no Ubuntu também para fazer o teste de recebimento do stream em broadcast feito pelo Drone.<br /><span style="background-color: #cfe2f3;">root@ubuntu:~/Downloads# apt-get install vlc mplayer </span><br /><br /><span style="background-color: #cfe2f3;"><br /></span><span style="background-color: #cfe2f3;"><span style="background-color: white;">Baixar e extrair o VLC</span></span><br /><span style="background-color: #cfe2f3;"><br /></span><span style="background-color: #cfe2f3;">root@ubuntu:~/Downloads# wget http://download.videolan.org/pub/videolan/vlc/2.1.1/vlc-2.1.1.tar.xz</span><br /><span style="background-color: #cfe2f3;">root@ubuntu:~/Downloads# tar xfvJ vlc-2.1.1.tar.xz<br />root@ubuntu:~/Downloads# cd vlc-2.1.1</span><br /><span style="background-color: #cfe2f3;"></span><br /><br /><br />A configuração do VLC é tensa, é preciso remover várias features para compilar sem problemas. E ativar a opção de executar como root, já que no Drone não tem "su".<br /><br /><span style="background-color: #cfe2f3;">root@ubuntu:~/Downloads/vlc-2.1.1# ./configure --target=arm-none-linux-gnueabi --host=arm-none-linux-gnueabi --disable-lua --disable-mad --disable-avcodec --disable-swscale --disable-a52 --disable-xcb --disable-libgcrypt --disable-dbus --disable-alsa --disable-pulse --disable-libxml2 --disable-udev --disable-freetype --disable-sdl --disable-caca --disable-bonjour --enable-run-as-root --prefix=/data/video/vlc &amp;&amp; make &amp;&amp; make install</span><br /><br /><br /><br />Agora temos o VLC compilado para Drone instalado no nosso /data/video/vlc.<br /><br /><span style="background-color: #cfe2f3;">root@ubuntu:~# cd /data/video/vlc/<br />root@ubuntu:/data/video/vlc# du -hs<br />48M&nbsp;&nbsp;&nbsp; .</span><br /><br />Nosso recém compilado VLC tem o singelo tamanho de 48MB.<br /><br />Primeiro é preciso conectar no Access Point WIFI criado pelo ardrone.<br />Uma vez conectado e conseguindo pingar o 192.168.1.1, provavelmente não haverá problemas.<br /><br /><br /><span style="background-color: #cfe2f3;">root@ubuntu:~# ping 192.168.1.1<br />PING 192.168.1.1 (192.168.1.1) 56(84) bytes of data.<br />64 bytes from 192.168.1.1: icmp_req=1 ttl=64 time=1.99 ms<br />64 bytes from 192.168.1.1: icmp_req=2 ttl=64 time=1.77 ms<br />^C<br />--- 192.168.1.1 ping statistics ---<br />2 packets transmitted, 2 received, 0% packet loss, time 1002ms<br />rtt min/avg/max/mdev = 1.773/1.882/1.992/0.117 ms</span><br /><br /><br /><br /><br /><br /><br /><br />&nbsp;Se pingou o Drone segue para o telnet no Drone,<br />uma vez na linha de comando do Drone, é bom verificar o espaço livre antes de enviar o VLC para o /data/video via FTP.<br /><br /><span style="background-color: #cfe2f3;">root@ubuntu:~# telnet 192.168.1.1<br />Trying 192.168.1.1...<br />Connected to 192.168.1.1.<br />Escape character is '^]'.<br /><br /><br /><br />BusyBox v1.14.0 (2011-08-30 12:00:29 CEST) built-in shell (ash)<br />Enter 'help' for a list of built-in commands.<br /><br /># df -ah<br />Filesystem&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Size&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Used Available Use% Mounted on<br />ubi1:system&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 12.0M&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 6.3M&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5.1M&nbsp; 55% /<br />tmp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 61.6M&nbsp;&nbsp;&nbsp;&nbsp; 32.0K&nbsp;&nbsp;&nbsp;&nbsp; 61.5M&nbsp;&nbsp; 0% /tmp<br />proc&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp; 0% /proc<br />dev&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 61.6M&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp; 61.6M&nbsp;&nbsp; 0% /dev<br />devpts&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp; 0% /dev/pts<br />sys&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp; 0% /sys<br />ubi0:factory&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4.8M&nbsp;&nbsp;&nbsp;&nbsp; 44.0K&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4.5M&nbsp;&nbsp; 1% /factory<br />ubi2:update&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 13.2M&nbsp;&nbsp;&nbsp;&nbsp; 32.0K&nbsp;&nbsp;&nbsp;&nbsp; 12.5M&nbsp;&nbsp; 0% /update<br />ubi2:data&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 67.5M&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1.4M&nbsp;&nbsp;&nbsp;&nbsp; 62.6M&nbsp;&nbsp; 2% /data<br /># </span><br /><br />Segundo o telnet ainda tem livre 62,6MB dos 67,5MB da partição /data, que é onde vamos colocar o VLC ocupando 48MB. <br /><br />Somente a título de curiosidade, o ardrone é todo feito encima de UBIFS.<br /><br />Aqui temos a configuração do MTD que vai ser passada para o UBI. <br /><span style="background-color: #cfe2f3;">&nbsp;# cat /proc/cmdline <br />parrotparts=nand0:256K(Pbootloader),8M(Pmain_boot),8M(Pfactory),16M(Psystem),98048K(Pupdate) console=ttyPA0,115200 loglevel=4 ubi.mtd=Pfactory,2048 ubi.mtd=Psystem,2048 ubi.mtd=Pupdate,2048 root=ubi1:system rootfstype=ubifs parrot5.low_latency=1<br />#&nbsp;</span><br /><br />Olhando o log do kernel, o volume /data tem na verdade 73MB, mas quando tira os espaços reversados fica somente 67,5MB. <br /><span style="background-color: #cfe2f3;"># dmesg | grep UBIFS<br />[&nbsp;&nbsp;&nbsp; 1.361041] UBIFS: recovery needed<br />[&nbsp;&nbsp;&nbsp; 1.378984] UBIFS: recovery deferred<br />[&nbsp;&nbsp;&nbsp; 1.379025] UBIFS: mounted UBI device 1, volume 0, name "system"<br />[&nbsp;&nbsp;&nbsp; 1.379048] UBIFS: mounted read-only<br />[&nbsp;&nbsp;&nbsp; 1.379071] UBIFS: file system size:&nbsp;&nbsp; 14348288 bytes (14012 KiB, 13 MiB, 113 LEBs)<br />[&nbsp;&nbsp;&nbsp; 1.379103] UBIFS: journal size:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1015809 bytes (992 KiB, 0 MiB, 6 LEBs)<br />[&nbsp;&nbsp;&nbsp; 1.379132] UBIFS: media format:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; w4/r0 (latest is w4/r0)<br />[&nbsp;&nbsp;&nbsp; 1.379155] UBIFS: default compressor: none<br />[&nbsp;&nbsp;&nbsp; 1.379176] UBIFS: reserved for root:&nbsp; 677704 bytes (661 KiB)<br />[&nbsp;&nbsp;&nbsp; 1.571892] UBIFS: completing deferred recovery<br />[&nbsp;&nbsp;&nbsp; 1.578212] UBIFS: deferred recovery completed<br />[&nbsp;&nbsp;&nbsp; 2.314383] UBIFS: mounted UBI device 0, volume 0, name "factory"<br />[&nbsp;&nbsp;&nbsp; 2.314416] UBIFS: mounted read-only<br />[&nbsp;&nbsp;&nbsp; 2.314441] UBIFS: file system size:&nbsp;&nbsp; 6221824 bytes (6076 KiB, 5 MiB, 49 LEBs)<br />[&nbsp;&nbsp;&nbsp; 2.314472] UBIFS: journal size:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1015809 bytes (992 KiB, 0 MiB, 6 LEBs)<br />[&nbsp;&nbsp;&nbsp; 2.314501] UBIFS: media format:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; w4/r0 (latest is w4/r0)<br />[&nbsp;&nbsp;&nbsp; 2.314524] UBIFS: default compressor: none<br />[&nbsp;&nbsp;&nbsp; 2.314545] UBIFS: reserved for root:&nbsp; 293871 bytes (286 KiB)<br />[&nbsp;&nbsp;&nbsp; 2.343121] UBIFS: recovery needed<br />[&nbsp;&nbsp;&nbsp; 2.369371] UBIFS: recovery completed<br />[&nbsp;&nbsp;&nbsp; 2.369411] UBIFS: mounted UBI device 2, volume 0, name "update"<br />[&nbsp;&nbsp;&nbsp; 2.369441] UBIFS: file system size:&nbsp;&nbsp; 15745024 bytes (15376 KiB, 15 MiB, 124 LEBs)<br />[&nbsp;&nbsp;&nbsp; 2.369474] UBIFS: journal size:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1015809 bytes (992 KiB, 0 MiB, 6 LEBs)<br />[&nbsp;&nbsp;&nbsp; 2.369503] UBIFS: media format:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; w4/r0 (latest is w4/r0)<br />[&nbsp;&nbsp;&nbsp; 2.369527] UBIFS: default compressor: none<br />[&nbsp;&nbsp;&nbsp; 2.369548] UBIFS: reserved for root:&nbsp; 743676 bytes (726 KiB)<br />[&nbsp;&nbsp;&nbsp; 2.398642] UBIFS: recovery needed<br />[&nbsp;&nbsp;&nbsp; 2.450956] UBIFS: recovery completed<br />[&nbsp;&nbsp;&nbsp; 2.450996] UBIFS: mounted UBI device 2, volume 1, name "data"<br />[&nbsp;&nbsp;&nbsp; 2.451027] UBIFS: file system size:&nbsp;&nbsp; 77328384 bytes (75516 KiB, 73 MiB, 609 LEBs)<br />[&nbsp;&nbsp;&nbsp; 2.451059] UBIFS: journal size:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3809280 bytes (3720 KiB, 3 MiB, 30 LEBs)<br />[&nbsp;&nbsp;&nbsp; 2.451089] UBIFS: media format:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; w4/r0 (latest is w4/r0)<br />[&nbsp;&nbsp;&nbsp; 2.451112] UBIFS: default compressor: none<br />[&nbsp;&nbsp;&nbsp; 2.451133] UBIFS: reserved for root:&nbsp; 3652410 bytes (3566 KiB)<br /># </span><br />&nbsp; <br />O próximo passo é copiar o diretório vlc para o FTP do Drone.<br />Lembrando que o modo de transferência deve ser sempre o binário, senão os executáveis serão destruidos durante a cópia. <br />Para facilitar a cópia recomendo usar o Filezilla (lembre de mudar para modo binário, isto é fundamental) <br /><br /><span style="background-color: #cfe2f3;">&nbsp;root@ubuntu:~# apt-get install filezilla</span><br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://2.bp.blogspot.com/-v_Q1y-rmSJY/UpUcgsly6bI/AAAAAAAAnc8/_q8qLfYhbjs/s1600/filezilla-drone-transfer.jpg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" src="http://2.bp.blogspot.com/-v_Q1y-rmSJY/UpUcgsly6bI/AAAAAAAAnc8/_q8qLfYhbjs/s1600/filezilla-drone-transfer.jpg" height="274" width="320" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">O Host é o IP do Drone, 192.168.1.1</td><td class="tr-caption" style="text-align: center;"></td><td class="tr-caption" style="text-align: center;"><br /></td><td class="tr-caption" style="text-align: center;"><br /></td></tr></tbody></table>No mais é só entrar em /data/video e arrastar para dentro do drone.<br />Quando terminar de transferir tudo, vamos testar via telnet no drone.<br /><br /><br /><br /><span style="background-color: #cfe2f3;">&nbsp;root@ubuntu:~# telnet 192.168.1.1<br />Trying 192.168.1.1...<br />Connected to 192.168.1.1.<br />Escape character is '^]'.<br /><br /><br /><br />BusyBox v1.14.0 (2011-08-30 12:00:29 CEST) built-in shell (ash)<br />Enter 'help' for a list of built-in commands.</span><br /><br /><br /><br />De volta ao drone, é hora de colocar as permissões de execução no VLC <br /><br /><span style="background-color: #cfe2f3;"># chmod -R +x /data/video/vlc</span><br /><br />E por fim testar o VLC<br /><br /><span style="background-color: #cfe2f3;"># /data/video/vlc/bin/vlc<br />/data/video/vlc/bin/vlc: error while loading shared libraries: libvlc.so.5: cannot open shared object file: No such file or directory</span><br /><br /><br /><br />Problema de .so faltando, é normal quando não se tem o ldconfig,<br />para resolver o jeito é linkar na mão e testar denovo<br /><br /><span style="background-color: #cfe2f3;"># ln -s /data/video/vlc/lib/libvlc.so.5.4.0 /data/video/vlc/lib/libvlc.so.5</span><br /><span style="background-color: #cfe2f3;"># /data/video/vlc/bin/vlc</span><span style="background-color: #cfe2f3;">/data/video/vlc/bin/vlc: error while loading shared libraries: libvlccore.so.7: cannot open shared object file: No such file or directory</span><br /><br />Outra lib faltando, ok. Linkar na mão e testar.<br /><br /><span style="background-color: #cfe2f3;"># ln -s /data/video/vlc/lib/libvlccore.so.7.0.0 /data/video/vlc/lib/libvlccore.so.7</span><br /><span style="background-color: #cfe2f3;"># /data/video/vlc/bin/vlc<br />/data/video/vlc/bin/vlc: /lib/libc.so.6: version `GLIBC_2.10' not found (required by /data/video/vlc/lib/libvlccore.so.7)<br />/data/video/vlc/bin/vlc: /lib/libc.so.6: version `GLIBC_2.9' not found (required by /data/video/vlc/lib/libvlccore.so.7)</span><br />Agora a coisa ficou feita, provavelmente por causa da versão da GLIBC que tem no <br />gcc version 4.5.2 (Sourcery G++ Lite 2011.03-41)<br /><br /><br /><span style="background-color: #cfe2f3;"># cat /firmware/version.txt <br />1.7.6<br /># cat /update/version.txt <br />1.7.6</span><br /><span style="background-color: #cfe2f3;"># cat /proc/version </span><br /><span style="background-color: #cfe2f3;">Linux version 2.6.27.47-parrot (aferran@FR-B-800-0053) (gcc version 4.3.3 (Sourcery G++ Lite 2009q1-203) ) #1 PREEMPT Tue Aug 30 12:05:09 CEST 2011<br />#</span><br /><br />problema é descobrir qual a versão do GCC que buildou o resto do sistema.<br />Depois pensar, resolvido matar o inetd e subir com um config nova export a raiz do sistema, dai pude copiar o sistema todo do drone para minha máquina pelo Filezilla.<br />&nbsp;Agora com as ferramentas todas fica mais fácil.<br /><br /><span style="background-color: #cfe2f3;">root@ubuntu:~/Downloads/drone/lib# strings -a * | grep GLIBC | sort | uniq<br />GLIBC_2.0<br />GLIBC_2.4<br />GLIBC_2.5<br />GLIBC_2.6<br />GLIBC_2.7<br />GLIBC_2.8<br />GLIBC_PRIVATE</span><br /><br /><span style="background-color: #cfe2f3;">root@ubuntu:~/Downloads/drone/lib# strings -a * | grep GCC | sort | uniq<br />GCC_3.0<br />GCC_3.3<br />GCC_3.3.1<br />GCC_3.3.4<br />GCC_3.4<br />GCC_3.4.2<br />GCC_3.5<br />GCC_4.0.0<br />GCC_4.2.0<br />GCC_4.3.0</span><br /><span style="background-color: #cfe2f3;"><br /></span><span style="background-color: #cfe2f3;"><span style="background-color: white;">Realmente lascou, a versão </span></span><span style="background-color: #cfe2f3;"><span style="background-color: white;">Sourcery G++ Lite 2011.03-41 não vai servir para buildar o VLC para o firmware 1.7.6, já que a lista de símbolos é diferente.</span></span><br /><span style="background-color: #cfe2f3;"><span style="background-color: white;">Vai ser preciso refazer todo o processo provavelmente com a versão&nbsp; </span></span><br /><span style="background-color: #cfe2f3;">gcc version 4.3.3 (Sourcery G++ Lite 2009q1-203) </span><br /><br /><span style="background-color: #cfe2f3;"><span style="background-color: white;">&nbsp;Removido a versão 2011 e instalado o 2009.</span></span><br /><br /><span style="background-color: #cfe2f3;"><span style="background-color: white;"><br /></span></span><span style="background-color: #cfe2f3;"><span style="background-color: white;">&nbsp;<span style="background-color: #cfe2f3;">root@ubuntu:~# arm-none-linux-gnueabi-gcc -v<br />Using built-in specs.<br />Target: arm-none-linux-gnueabi<br />Configured with: /scratch/mitchell/builds/4.3-arm-none-linux-gnueabi-respin/src/gcc-4.3/configure --build=i686-pc-linux-gnu --host=i686-pc-linux-gnu --target=arm-none-linux-gnueabi --enable-threads --disable-libmudflap --disable-libssp --disable-libstdcxx-pch --with-gnu-as --with-gnu-ld --with-specs='%{funwind-tables|fno-unwind-tables|mabi=*|ffreestanding|nostdlib:;:-funwind-tables}' --enable-languages=c,c++ --enable-shared --enable-symvers=gnu --enable-__cxa_atexit --with-pkgversion='Sourcery G++ Lite 2009q1-203' --with-bugurl=https://support.codesourcery.com/GNUToolchain/ --disable-nls --prefix=/opt/codesourcery --with-sysroot=/opt/codesourcery/arm-none-linux-gnueabi/libc --with-build-sysroot=/scratch/mitchell/builds/4.3-arm-none-linux-gnueabi-respin/lite/install/arm-none-linux-gnueabi/libc --with-gmp=/scratch/mitchell/builds/4.3-arm-none-linux-gnueabi-respin/lite/obj/host-libs-2009q1-203-arm-none-linux-gnueabi-i686-pc-linux-gnu/usr --with-mpfr=/scratch/mitchell/builds/4.3-arm-none-linux-gnueabi-respin/lite/obj/host-libs-2009q1-203-arm-none-linux-gnueabi-i686-pc-linux-gnu/usr --disable-libgomp --enable-poison-system-directories --with-build-time-tools=/scratch/mitchell/builds/4.3-arm-none-linux-gnueabi-respin/lite/install/arm-none-linux-gnueabi/bin --with-build-time-tools=/scratch/mitchell/builds/4.3-arm-none-linux-gnueabi-respin/lite/install/arm-none-linux-gnueabi/bin<br />Thread model: posix<br />gcc version 4.3.3 (Sourcery G++ Lite 2009q1-203) <br />root@ubuntu:~# </span></span></span><br /><span style="background-color: #cfe2f3;"><span style="background-color: white;"><br /></span></span><span style="background-color: #cfe2f3;"><span style="background-color: white;">Build do VLC com a versão 2009, foi de primeira sem nenhum problema.</span></span><br /><span style="background-color: #cfe2f3;"><span style="background-color: white;">Agora é copiar pelo FTP e testar no telnet como já tinha feito antes.</span></span><br /><span style="background-color: #cfe2f3;"><span style="background-color: white;"></span></span><br /><span style="background-color: #cfe2f3;"><span style="background-color: white;"><span style="background-color: #cfe2f3;"></span><br /></span></span><span style="background-color: #cfe2f3;"><span style="background-color: white;"><br /></span></span><span style="background-color: #cfe2f3;"><span style="background-color: white;"><span style="background-color: #cfe2f3;"># /data/video/vlc/bin/vlc --version<br />VLC media player 2.1.1 Rincewind (revision 2.1.0-207-g89c9520)<br />VLC version 2.1.1 Rincewind (2.1.0-207-g89c9520)<br />Compiled by root on ubuntu (Nov 26 2013 16:26:14)<br />Compiler: gcc version 4.3.3 (Sourcery G++ Lite 2009q1-203)<br />This program comes with NO WARRANTY, to the extent permitted by law.<br />You may redistribute it under the terms of the GNU General Public License;<br />see the file named COPYING for details.<br />Written by the VideoLAN team; see the AUTHORS file.<br /># </span></span></span><br /><span style="background-color: #cfe2f3;"><span style="background-color: white;"><br /></span></span><span style="background-color: #cfe2f3;"><span style="background-color: white;">Agora sim, funcionou como esperado!!!</span></span><br /><br />Comandos para fazer o stream das câmeras do drone.<br /><span style="background-color: #cfe2f3; font-size: xx-small;"># /data/video/vlc/bin/vlc v4l2:///dev/video0:width=640:height=480 -I dummy -v --noaudio --sout '#std{access=mmsh,dst=:8080}'<br /># /data/video/vlc/bin/vlc v4l2:///dev/video1:width=176:height=144 -I dummy -v --noaudio --sout '#std{access=mmsh,dst=:8080}'</span><br /><div><br /></div><div>Agora existe algum problema com as câmeras que ficaram rebeldes e sem funcionar.</div><div><br /></div><br /><br /><span style="background-color: #cfe2f3;"><br /></span>