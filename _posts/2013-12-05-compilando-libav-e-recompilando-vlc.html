---
layout: post
title: Compilando libav e recompilando VLC para ardrone
date: '2013-12-05T16:09:00.001-03:00'
author: Murilo Pontes
tags:
- VLC
- ardrone
- libav
- cross-compile
- pkg-config
modified_time: '2015-01-18T13:21:40.116-03:00'
blogger_id: tag:blogger.com,1999:blog-3047384083282566923.post-9167453329045759407
blogger_orig_url: http://dronespersonalizados.blogspot.com/2013/12/compilando-libav-e-recompilando-vlc.html
---

<span style="color: #666666; font-family: Trebuchet MS, Trebuchet, Verdana, sans-serif;"><span style="background-color: white; font-size: 13px; line-height: 18px;">tutorial: adicionando o VLC ao ardrone</span></span><br /><a name='more'></a><br /><span style="background-color: white; color: #666666; font-family: 'Trebuchet MS', Trebuchet, Verdana, sans-serif; font-size: 13px; line-height: 18px;">Esse post presume que você já tenha feito todo o setup para compilar o VLC para ardrone.</span><br /><a href="http://dronespersonalizados.blogspot.com.br/2013/11/cross-compile-vlc-para-ardrone-usando-o.html" style="background-color: white; color: #888888; font-family: 'Trebuchet MS', Trebuchet, Verdana, sans-serif; font-size: 13px; line-height: 18px; text-decoration: none;">http://dronespersonalizados.blogspot.com.br/2013/11/cross-compile-vlc-para-ardrone-usando-o.html</a><br /><br />O libav é uma das mais completas bibliotecas para codificação e decodificação de audio e vídeo.<br /><br />&gt; Ambiente de compila ARM<br /><span style="background-color: #cfe2f3;">root@ubuntu:~# su -</span><br /><br />&gt; Baixar libav do git <br /><span style="background-color: #cfe2f3;">root@ubuntu:~# git clone git://git.libav.org/libav.git</span><br /><span style="background-color: #cfe2f3;">root@ubuntu:~# cd libav/</span><br /><span style="background-color: #cfe2f3;">root@ubuntu:~/libav#</span><br /><br />&gt; configuração não muito livre<br />root@ubuntu:~/libav# ./configure --cross-prefix=arm-none-linux-gnueabi- --enable-cross-compile --target-os=linux --arch=arm --cpu=arm926ej-s --disable-debug --disable-altivec --disable-sse --disable-armv6 --disable-armv6t2 &nbsp;--disable-mmx --disable-neon --disable-amd3dnow --enable-shared --enable-static --prefix=/data/video/vlc &nbsp;--enable-gpl --enable-nonfree --enable-version3<br /><br />&gt; configuração livre<br /><span style="background-color: #cfe2f3;">root@ubuntu:~/libav# ./configure --cross-prefix=arm-none-linux-gnueabi- --enable-cross-compile --target-os=linux --arch=arm --cpu=arm926ej-s --disable-debug --disable-altivec --disable-sse --disable-armv6 --disable-armv6t2 &nbsp;--disable-mmx --disable-neon --disable-amd3dnow --enable-shared --enable-static --prefix=/data/video/vlc</span><br /><br />&gt; Compilar e instalar libav<br /><span style="background-color: #cfe2f3;">root@ubuntu:~/libav# make</span><br /><span style="background-color: #cfe2f3;">root@ubuntu:~/libav# make install</span><br /><br /><br />&gt; Baixar, extrair, configurar, compilar e instalar o pkg-config para ardrone<br /><span style="background-color: #cfe2f3;">root@ubuntu:~/libav# cd ~/Downloads</span><br /><span style="background-color: #cfe2f3;">root@ubuntu:~/Downloads# wget http://pkgconfig.freedesktop.org/releases/pkg-config-0.28.tar.gz</span><br /><span style="background-color: #cfe2f3;">root@ubuntu:~/Downloads#&nbsp; tar xfvz pkg-config-0.28.tar.gz</span><br /><span style="background-color: #cfe2f3;">root@ubuntu:~/Downloads# cd pkg-config-0.28</span><br /><span style="background-color: #cfe2f3;">root@ubuntu:~/Downloads/pkg-config-0.28# ./configure --prefix=/data/video/vlc --build=arm-none-linux-gnueabi</span><br /><span style="background-color: #cfe2f3;">root@ubuntu:~/Downloads/pkg-config-0.28# make</span><br /><span style="background-color: #cfe2f3;">root@ubuntu:~/Downloads/pkg-config-0.28# make install</span><span style="background-color: #cfe2f3;"></span><br /><span style="background-color: #cfe2f3;"></span><br /><br />&gt; Colocar o pkg-config no PATH para o build do VLC encontrar <br /><span style="background-color: #cfe2f3;">root@ubuntu:~/Downloads/pkg-config-0.28# export PATH=/data/video/vlc/bin:$PATH</span><br /><br />&gt; Recompilar o VLC com LIBAV<br /><span style="background-color: #cfe2f3;">root@ubuntu:~/Downloads/pkg-config-0.28# cd ../vlc-2.1.1</span><br /><span style="background-color: #cfe2f3;">root@ubuntu:~/Downloads/vlc-2.1.1#&nbsp;</span><span style="background-color: #cfe2f3;">./configure --host=arm-none-linux-gnueabi --disable-lua --disable-mad --disable-swscale --disable-a52 --disable-xcb --disable-libgcrypt --disable-dbus --disable-alsa --disable-pulse --disable-libxml2 --disable-udev --disable-freetype --disable-sdl --disable-caca --disable-bonjour --enable-run-as-root --prefix=/data/video/vlc &amp;&amp; make &amp;&amp; make install</span><br /><br /><br />